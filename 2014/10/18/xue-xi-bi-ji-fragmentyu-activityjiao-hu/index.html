<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>学习笔记Fragment与Activity交互 | FeNJuly&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近在看Android Traning，在这里记录一下学习笔记。
然后这里说的是fragment与activityt的交互，一般的做法是在Fragment中定义一个接口。然后activity去实现这个接口。然后framment在onAttach()这中去捕获接口的实现，大概就是这么个过程。
原话是：

To allow a Fragment to communicate up to its Act">
<meta property="og:type" content="article">
<meta property="og:title" content="学习笔记Fragment与Activity交互">
<meta property="og:url" content="http://fenjuly.com/2014/10/18/xue-xi-bi-ji-fragmentyu-activityjiao-hu/">
<meta property="og:site_name" content="FeNJuly's Blog">
<meta property="og:description" content="最近在看Android Traning，在这里记录一下学习笔记。
然后这里说的是fragment与activityt的交互，一般的做法是在Fragment中定义一个接口。然后activity去实现这个接口。然后framment在onAttach()这中去捕获接口的实现，大概就是这么个过程。
原话是：

To allow a Fragment to communicate up to its Act">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="学习笔记Fragment与Activity交互">
<meta name="twitter:description" content="最近在看Android Traning，在这里记录一下学习笔记。
然后这里说的是fragment与activityt的交互，一般的做法是在Fragment中定义一个接口。然后activity去实现这个接口。然后framment在onAttach()这中去捕获接口的实现，大概就是这么个过程。
原话是：

To allow a Fragment to communicate up to its Act">

  
    <link rel="alternative" href="/atom.xml" title="FeNJuly&#39;s Blog" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon" type="image/x-ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">FeNJuly&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">next line of code</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/About">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="fenjuly.com">
        </form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-xue-xi-bi-ji-fragmentyu-activityjiao-hu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/18/xue-xi-bi-ji-fragmentyu-activityjiao-hu/" class="article-date">
  <time datetime="2014-10-18T05:18:00.000Z" itemprop="datePublished">Oct 18 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      学习笔记Fragment与Activity交互
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在看<a href="http://developer.android.com/training/index.html" target="_blank" rel="external">Android Traning</a>，在这里记录一下学习笔记。</p>
<p>然后这里说的是fragment与activityt的交互，一般的做法是在Fragment中定义一个接口。然后activity去实现这个接口。然后framment在<code>onAttach()</code>这中去捕获接口的实现，大概就是这么个过程。</p>
<p>原话是：</p>
<blockquote>
<p>To allow a Fragment to communicate up to its Activity, you can define an interface in the Fragment class and implement it within the Activity. The Fragment captures the interface implementation during its onAttach() lifecycle method and can then call the Interface methods in order to communicate with the Activity.</p>
</blockquote>
<p>然后training给的example：</p>
<pre><code><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HeadlinesFragment</span> <span class="keyword">extends</span> <span class="title">ListFragment</span> </span>{
    OnHeadlineSelectedListener mCallback;

    <span class="comment">// Container Activity must implement this interface</span>
    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnHeadlineSelectedListener</span> </span>{
        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onArticleSelected</span>(<span class="keyword">int</span> position);
    }

    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAttach</span>(Activity activity) {
        <span class="keyword">super</span>.onAttach(activity);

        <span class="comment">// This makes sure that the container activity has implemented</span>
        <span class="comment">// the callback interface. If not, it throws an exception</span>
        <span class="keyword">try</span> {
            mCallback = (OnHeadlineSelectedListener) activity;
        } <span class="keyword">catch</span> (ClassCastException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> ClassCastException(activity.toString()
                    + <span class="string">" must implement OnHeadlineSelectedListener"</span>);
        }
    }

    ...
}
</code></pre><hr>
<pre><code><span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onListItemClick</span>(ListView l, View v, <span class="keyword">int</span> position, <span class="keyword">long</span> id)     {
        <span class="comment">// Send the event to the host activity</span>
        mCallback.onArticleSelected(position);
    }
</code></pre><hr>
<pre><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span>
    <span class="keyword">implements</span> <span class="title">HeadlinesFragment</span>.<span class="title">OnHeadlineSelectedListener</span></span>{
...

<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onArticleSelected</span>(<span class="keyword">int</span> position) {
    <span class="comment">// The user selected the headline of an article from the HeadlinesFragment</span>
    <span class="comment">// Do something here to display that article</span>
}
}
</code></pre><p>如果activity要传递消息给fragment就太简单了，直接调用fragment的方法。    </p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fenjuly.com/2014/10/18/xue-xi-bi-ji-fragmentyu-activityjiao-hu/" data-id="o2fpiarrqi7wtt6b" class="article-share-link">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/11/03/xie-liao-yi-ge-jian-dan-de-ji-ri-ji-de-app/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          写了一个简单的记日记的app
        
      </div>
    </a>
  
  
    <a href="/2014/10/02/kai-xue-lai-de-zhuang-tai/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">开学来的状态</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/">Life</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 15.00px;">Android</a><a href="/tags/Java/" style="font-size: 10.00px;">Java</a><a href="/tags/Life/" style="font-size: 20.00px;">Life</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/11/15/woshibanyungong/">我是搬运工</a>
          </li>
        
          <li>
            <a href="/2014/11/03/xie-liao-yi-ge-jian-dan-de-ji-ri-ji-de-app/">写了一个简单的记日记的app</a>
          </li>
        
          <li>
            <a href="/2014/10/18/xue-xi-bi-ji-fragmentyu-activityjiao-hu/">学习笔记Fragment与Activity交互</a>
          </li>
        
          <li>
            <a href="/2014/10/02/kai-xue-lai-de-zhuang-tai/">开学来的状态</a>
          </li>
        
          <li>
            <a href="/2014/09/05/zhe-ge-shu-jia/">这个暑假</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://jhat.pw/" target="_blank">Jhat</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 FeNJuly<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/About" class="mobile-nav-link">About</a>
  
</nav>
    

<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>